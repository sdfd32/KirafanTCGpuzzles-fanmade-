--Created using senpaizuri's Puzzle Maker (updated by Naim & Larry126)
--Partially rewritten by edo9300
Debug.ReloadFieldBegin(DUEL_ATTACK_FIRST_TURN+DUEL_SIMPLE_AI,5)
Debug.SetPlayerInfo(0,8000,0,0)
Debug.SetPlayerInfo(1,8000,0,0)

--클레어
c=Debug.AddCard(10050112,0,0,LOCATION_EMZONE,1,POS_FACEUP_ATTACK)
tc=Debug.AddCard(10050114,1,1,LOCATION_EMZONE,1,POS_FACEUP_ATTACK)

Debug.AddCard(10052521,1,1,LOCATION_MZONE,0,POS_FACEUP_ATTACK)
Debug.AddCard(10052521,1,1,LOCATION_MZONE,0,POS_FACEUP)
Debug.AddCard(10052521,1,1,LOCATION_MZONE,0,POS_FACEUP)
Debug.AddCard(10052521,1,1,LOCATION_MZONE,0,POS_FACEUP)
Debug.AddCard(10052521,1,1,LOCATION_MZONE,0,POS_FACEUP)
Debug.AddCard(10052521,1,1,LOCATION_MZONE,0,POS_FACEUP)
Debug.AddCard(10052521,1,1,LOCATION_MZONE,0,POS_FACEUP)

Debug.AddCard(10041002,1,1,LOCATION_MZONE,2,POS_FACEUP_ATTACK)
Debug.AddCard(10041002,1,1,LOCATION_MZONE,2,POS_FACEUP)
Debug.AddCard(10041002,1,1,LOCATION_MZONE,2,POS_FACEUP)
Debug.AddCard(10041002,1,1,LOCATION_MZONE,2,POS_FACEUP)
Debug.AddCard(10041002,1,1,LOCATION_MZONE,2,POS_FACEUP)
Debug.AddCard(10041002,1,1,LOCATION_MZONE,2,POS_FACEUP)
Debug.AddCard(10041002,1,1,LOCATION_MZONE,2,POS_FACEUP)
Debug.AddCard(10041002,1,1,LOCATION_MZONE,2,POS_FACEUP)
Debug.AddCard(10041002,1,1,LOCATION_MZONE,2,POS_FACEUP)

Debug.AddCard(10051321,1,1,LOCATION_MZONE,4,POS_FACEUP_ATTACK)
Debug.AddCard(10051321,1,1,LOCATION_MZONE,4,POS_FACEUP)
Debug.AddCard(10051321,1,1,LOCATION_MZONE,4,POS_FACEUP)
Debug.AddCard(10051321,1,1,LOCATION_MZONE,4,POS_FACEUP)
Debug.AddCard(10051321,1,1,LOCATION_MZONE,4,POS_FACEUP)
Debug.AddCard(10051321,1,1,LOCATION_MZONE,4,POS_FACEUP)

Debug.AddCard(10054521,1,1,LOCATION_SZONE,1,POS_FACEUP)
Debug.AddCard(10055221,1,1,LOCATION_SZONE,3,POS_FACEUP)

Debug.AddCard(10054621,0,0,LOCATION_DECK,0,POS_FACEDOWN)
Debug.AddCard(10054621,0,0,LOCATION_DECK,0,POS_FACEDOWN)
Debug.AddCard(10054621,0,0,LOCATION_DECK,0,POS_FACEDOWN)
Debug.AddCard(10054621,0,0,LOCATION_DECK,0,POS_FACEDOWN)
Debug.AddCard(10054621,0,0,LOCATION_DECK,0,POS_FACEDOWN)
Debug.AddCard(10054621,0,0,LOCATION_DECK,0,POS_FACEDOWN)
Debug.AddCard(10054621,0,0,LOCATION_DECK,0,POS_FACEDOWN)
Debug.AddCard(10054621,0,0,LOCATION_DECK,0,POS_FACEDOWN)
Debug.AddCard(10054621,0,0,LOCATION_DECK,0,POS_FACEDOWN)
Debug.AddCard(10054621,0,0,LOCATION_DECK,0,POS_FACEDOWN)
Debug.AddCard(10054621,0,0,LOCATION_DECK,0,POS_FACEDOWN)
Debug.AddCard(10054621,0,0,LOCATION_DECK,0,POS_FACEDOWN)
Debug.AddCard(10054621,0,0,LOCATION_DECK,0,POS_FACEDOWN)
Debug.AddCard(10054621,0,0,LOCATION_DECK,0,POS_FACEDOWN)
Debug.AddCard(10054621,0,0,LOCATION_DECK,0,POS_FACEDOWN)
Debug.AddCard(10054621,0,0,LOCATION_DECK,0,POS_FACEDOWN)
Debug.AddCard(10054621,0,0,LOCATION_DECK,0,POS_FACEDOWN)
Debug.AddCard(10054621,0,0,LOCATION_DECK,0,POS_FACEDOWN)
Debug.AddCard(10054621,0,0,LOCATION_DECK,0,POS_FACEDOWN)
Debug.AddCard(10054621,0,0,LOCATION_DECK,0,POS_FACEDOWN)
Debug.AddCard(10054621,0,0,LOCATION_DECK,0,POS_FACEDOWN)
Debug.AddCard(10054621,0,0,LOCATION_DECK,0,POS_FACEDOWN)
Debug.AddCard(10054621,0,0,LOCATION_DECK,0,POS_FACEDOWN)
Debug.AddCard(10054621,0,0,LOCATION_DECK,0,POS_FACEDOWN)
Debug.AddCard(10054621,0,0,LOCATION_DECK,0,POS_FACEDOWN)
Debug.AddCard(10054621,0,0,LOCATION_DECK,0,POS_FACEDOWN)
Debug.AddCard(10054621,0,0,LOCATION_DECK,0,POS_FACEDOWN)
Debug.AddCard(10054621,0,0,LOCATION_DECK,0,POS_FACEDOWN)
Debug.AddCard(10054621,1,1,LOCATION_DECK,0,POS_FACEDOWN)
Debug.AddCard(10054621,1,1,LOCATION_DECK,0,POS_FACEDOWN)
Debug.AddCard(10054621,1,1,LOCATION_DECK,0,POS_FACEDOWN)
Debug.AddCard(10054621,1,1,LOCATION_DECK,0,POS_FACEDOWN)

miyako=Debug.AddCard(10051531,0,0,LOCATION_MZONE,2,POS_FACEUP_ATTACK)
Debug.AddCard(10051531,0,0,LOCATION_MZONE,2,POS_FACEUP)
Debug.AddCard(10051531,0,0,LOCATION_MZONE,2,POS_FACEUP)

Debug.AddCard(10054523,0,0,LOCATION_HAND,0,POS_FACEDOWN)
Debug.AddCard(10051511,0,0,LOCATION_HAND,0,POS_FACEDOWN)
Debug.AddCard(10053331,0,0,LOCATION_HAND,0,POS_FACEDOWN)
Debug.AddCard(10051431,0,0,LOCATION_HAND,0,POS_FACEDOWN)
Debug.AddCard(10054222,0,0,LOCATION_HAND,0,POS_FACEDOWN)

Debug.PreAddCounter(miyako,0xb04,1)

Debug.ReloadFieldEnd()

Debug.ShowHint[[키라라 판타지아 코믹스 6화의 내용을 담고 있습니다.]]
Debug.ShowHint[[★램프
유노 님을 놔주세요 지금 바로!
이건 잘못 되었어요
오더라니 말도 안 된다고요!]]
Debug.ShowHint[[★슈가
무슨 소리 하는거야? 배신자 주제
아르시브 님이 잘못된 일을 할리 없잖아]]
Debug.ShowHint[[★슈가
...그래도 램프가 다른 크리에메이트까지
데려와 준건 너무 고마운걸
다들 엉망진창으로 만들어서 모으기만 하면 되잖아]]
Debug.ShowHint[[이번 턴 안에 상대 배틀 크리에메이트를 전부 쓰러트리세요]]

local e0=Effect.CreateEffect(tc)
e0:SetType(EFFECT_TYPE_SINGLE)
e0:SetCode(EFFECT_CANNOT_TRIGGER)
tc:RegisterEffect(e0)
local e4=Effect.CreateEffect(tc)
e4:SetType(EFFECT_TYPE_SINGLE)
e4:SetCode(EFFECT_CANNOT_TRIGGER)
tc:RegisterEffect(e4)
local e1=Effect.CreateEffect(c)
e1:SetType(EFFECT_TYPE_SINGLE)
e1:SetCode(EFFECT_UPDATE_DEFENSE)
e1:SetProperty(EFFECT_FLAG_CANNOT_DISABLE)
e1:SetReset(RESET_EVENT+RESETS_STANDARD)
e1:SetValue(13)
c:RegisterEffect(e1)
local e2=Effect.CreateEffect(tc)
e2:SetType(EFFECT_TYPE_SINGLE)
e2:SetCode(EFFECT_UPDATE_DEFENSE)
e2:SetProperty(EFFECT_FLAG_CANNOT_DISABLE)
e2:SetReset(RESET_EVENT+RESETS_STANDARD)
e2:SetValue(13)
tc:RegisterEffect(e2)

local e3=Effect.CreateEffect(c)
e3:SetType(EFFECT_TYPE_FIELD+EFFECT_TYPE_CONTINUOUS)
e3:SetProperty(EFFECT_FLAG_IGNORE_IMMUNE+EFFECT_FLAG_CANNOT_DISABLE)
e3:SetRange(LOCATION_MZONE)
e3:SetCode(EVENT_ADJUST)
e3:SetOperation(function (e,tp,eg,ep,ev,re,r,rp)
local g=Duel.GetMatchingGroup(Kirafan6.NoEmFzonefilter,tp,LOCATION_MZONE,LOCATION_MZONE,nil)
local tc=g:GetFirst()
	for tc in aux.Next(g) do
	local e1=Effect.CreateEffect(tc)
	e1:SetType(EFFECT_TYPE_SINGLE)
	e1:SetProperty(EFFECT_FLAG_SINGLE_RANGE)
	e1:SetRange(LOCATION_MZONE)
	e1:SetCode(EFFECT_SELF_DESTROY)
	e1:SetCondition(function (e)
	if e:GetHandler():GetCounter(0xb01)>0 then return e:GetHandler():GetDefense()<=1 end
	return e:GetHandler():GetDefense()==0 end)
	tc:RegisterEffect(e1)
	end
end)
c:RegisterEffect(e3)

local e9=Effect.CreateEffect(c)
e9:SetCategory(CATEGORY_DECKDES)
e9:SetType(EFFECT_TYPE_FIELD+EFFECT_TYPE_CONTINUOUS)
e9:SetCode(EVENT_PHASE+PHASE_STANDBY)
e9:SetProperty(EFFECT_FLAG_CANNOT_DISABLE)
e9:SetRange(LOCATION_EMZONE)
e9:SetCountLimit(1)
e9:SetCondition(Kirafan.Dottecon)
e9:SetOperation(function (e,tp,eg,ep,ev,re,r,rp)
if Duel.SelectYesNo(tp,aux.Stringid(10050111,0)) then
local g=Duel.SelectMatchingCard(tp,nil,tp,LOCATION_HAND+LOCATION_MZONE,0,0,1,e:GetHandler())
if #g==0 then
else
local tc=g:GetFirst()
if tc:IsLocation(LOCATION_MZONE) then
local tg=tc:GetOverlayGroup()
Duel.Remove(tg,POS_FACEUP,REASON_RULE)
Duel.Remove(tc,POS_FACEUP,REASON_RULE)
Duel.SendtoGrave(tc,REASON_RULE)
else
Duel.SendtoGrave(tc,REASON_RULE) end end end
end)
Duel.RegisterEffect(e9,0)

local e4=Effect.GlobalEffect()
	e4:SetType(EFFECT_TYPE_FIELD+EFFECT_TYPE_CONTINUOUS)
	e4:SetCode(EVENT_PHASE+PHASE_BATTLE)
	e4:SetCountLimit(1)
	e4:SetOperation(function(e,tp,eg,ep,ev,re,r,rp)
if Duel.GetMatchingGroupCount(nil,tp,0,LOCATION_MZONE,nil)==1 then
Debug.ShowHint[[★슈가
...또 교대?
이제 슈가 지겨워졌어]]
Debug.ShowHint[[★호토 코코아
걱정마 이걸로 끝이야 슈가쨩
애들아! 나에게 힘을 빌려줘!]]
Debug.ShowHint[[★호토 코코아
영역전개 「래빗 하우스」
체에에에스토오오오!!]]
Debug.ShowHint[[★슈가
목조 건물과 석조 거리...!?
아바바바밧~~!!]]
Debug.ShowHint[[★램프
후오오오오옷~~!! 코코아 님 멋있으십니다~!!
우리의 승리입니다! 이제 항복하세요 슈가!]]
Debug.ShowHint[[★슈가
램프는 아무것도 안한 주제...
흥~이다 싫으면 어쩔래!
아~ 유노 언니 한번 더 햝고 싶었는데 바이 바~이]]
Debug.ShowHint[[★미야코
오오! 사라졌어!]]
Debug.ShowHint[[★램프
슈가 녀석 유노 님에게 대체 무슨 짓을...]]
Duel.SetLP(1-tp,0)
else
Debug.ShowHint[[★슈가
슈가 러쉬!!]]
local g=Duel.GetMatchingGroup(Kirafan6.NoEmFzonefilter,tp,LOCATION_ONFIELD,0,nil)
Duel.Destroy(g,REASON_EFFECT)
end
end)
Duel.RegisterEffect(e4,0)

local e5=Effect.GlobalEffect()
	e5:SetType(EFFECT_TYPE_FIELD+EFFECT_TYPE_CONTINUOUS)
	e5:SetCode(EVENT_PHASE+PHASE_END)
	e5:SetCountLimit(1)
	e5:SetOperation(function(e,tp,eg,ep,ev,re,r,rp)
Debug.ShowHint[[★키라라
광범위 타격! 막을 수 없어!!
하나 씨 괜찮나요?]]
Debug.ShowHint[[★이치노세 하나
괘.. 괜찮아... 괜찮지 않아....]]
Debug.ShowHint[[★키라라
한번의 일격으로 전황이...
이것이 아르시브의 직속부하 칠현자!!]]
Duel.SetLP(tp,0)
end)
Duel.RegisterEffect(e5,0)

